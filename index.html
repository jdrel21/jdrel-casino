<!DOCTYPE html>
<html lang="ro">
<head>
<meta charset="UTF-8">
<title>GÄƒseÈ™te bila â€“ Demo Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link rel="stylesheet" href="style.css">
</head>

<body>

<header>
  ğŸ¯ GÄƒseÈ™te bila
  <div id="coins">ğŸ’° Sold: 0 coins</div>
</header>

<main class="game-area">

  <div class="controls">
    <button onclick="startGame()">Start joc (âˆ’1.000 coins)</button>
  </div>

  <div class="cups">
    <div class="cup" onclick="pick(0)"><div class="ball"></div></div>
    <div class="cup" onclick="pick(1)"><div class="ball"></div></div>
    <div class="cup" onclick="pick(2)"><div class="ball"></div></div>
    <div class="cup" onclick="pick(3)"><div class="ball"></div></div>
    <div class="cup" onclick="pick(4)"><div class="ball"></div></div>
  </div>

  <div class="message" id="msg"></div>

</main>

<footer>
  Joc demo Â· FÄƒrÄƒ bani reali Â· 18+
</footer>

<script>
let ballIndex = -1;
let playing = false;

// iniÈ›ializare coins
if(!localStorage.getItem("coins")){
  localStorage.setItem("coins", 100000);
}
updateCoins();

function updateCoins(){
  document.getElementById("coins").innerText =
    "ğŸ’° Sold: " + localStorage.getItem("coins") + " coins";
}

function startGame(){
  if(playing) return;

  let coins = parseInt(localStorage.getItem("coins"));
  if(coins < 1000){
    alert("Nu ai suficiente coins!");
    return;
  }

  localStorage.setItem("coins", coins - 1000);
  updateCoins();

  playing = true;
  document.getElementById("msg").innerText = "Amestec paharele...";
  hideBalls();

  ballIndex = Math.floor(Math.random() * 5);

  let cups = document.querySelectorAll(".cup");
  cups.forEach(c => c.classList.add("shuffle"));

  setTimeout(()=>{
    cups.forEach(c => c.classList.remove("shuffle"));
    document.getElementById("msg").innerText = "Alege paharul!";
  }, 1200);
}

function hideBalls(){
  document.querySelectorAll(".ball")
    .forEach(b => b.style.display = "none");
}

function pick(i){
  if(!playing) return;
  playing = false;

  let balls = document.querySelectorAll(".ball");
  balls[ballIndex].style.display = "block";

  if(i === ballIndex){
    let win = 5000;
    localStorage.setItem(
      "coins",
      parseInt(localStorage.getItem("coins")) + win
    );
    document.getElementById("msg").innerText =
      "ğŸ‰ AI CÃ‚È˜TIGAT +" + win + " coins!";
  } else {
    document.getElementById("msg").innerText =
      "âŒ Ai pierdut. Bila era sub paharul " + (ballIndex + 1);
  }

  updateCoins();
}
</script>

</body>
</html>
